{% extends 'base.html' %}
{% load static %}

  <!-- 이 html에 추가되는 CSS -->
  {% block css %}
    <style>
        body{
            font-family: 'MaruBuri-Regular';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-10-21@1.0/MaruBuri-Regular.woff') format('woff');
        font-weight: normal;
        font-style: normal;
            background-color:#F2EAE0 ;
          }     
        
        .purchase_detail_page{
            background-color: white;
            width: 1380px;
            margin-left: 50px;
            margin-top: 20px;
        }
        #title{
            margin-left: 620px;
            margin-top: 50px;
        }
        /* 이미지/가격/구매 등 */
        .purchase_box{
            margin-top: 50px;
            margin-left: 50px;
            border-color: #ddcbb2;
        }
        .card_discount{
            margin-top: 40px; 
            margin-left: 0px; 
            width: 390px; 
            height: 38px;
            background-color: rgb(238, 238, 238);
        }
        #plus_btn{
            float: left;
            width: 30px;
            height: 30px;
        }
        #minus_btn{
            float: left;
            width: 30px;
            height: 30px;
        }
        #result{
            text-align: center;
            padding-top: 5px;
            float: left;
            width: 30px;
            height: 30px;
            border: 0.5px solid;
            background-color: #f8f4ee;
        }
        .purchase_btn {
            line-height:30px;
            text-align:center;
            vertical-align:middle;
            display:inline-block;
            font-size:15px;
            color:#f8f8f8;
            width:180px;
            height:50px;
            padding-top: 8px;
            margin-top: 5px;
            margin-left: 5px;
            border-color:#fcfcfc;
            border-width:2px;
            border-style:solid;
            background-color: rgb(155, 128, 87);
        }
        .shopping_basket{
            line-height:30px;
            text-align:center;
            vertical-align:middle;
            display:inline-block;
            font-size:15px;
            color:#f8f8f8;
            width:180px;
            height:50px;
            margin-left: 200px;
            margin-top: -70px;
            padding-top: 8px;
            border-color:#fcfcfc;
            border-width:2px;
            border-style:solid;
            background-color: rgb(198, 176, 143);
        }
        
        
        
        /* 초기화 */ 
        *{ 
            margin: 0; 
            padding: 0; 
            box-sizing: 
            border-box; 
        } 
        li{ 
            list-style-type: none; 
        } 
        /* 보여줄 구간의 높이와 넓이 설정 */ 
        #slideShow{ 
            width: 800px; 
            height: 400px; 
            position: relative; 
            margin: 50px auto; 
            overflow: hidden; 
            margin-left: 20px;
        
        
            /*리스트 형식으로 이미지를 일렬로 정렬할 것이기 때문에, 500px 밖으로 튀어 나간 이미지들은 hidden으로 숨겨줘야됨*/ 
        } 
        .slides{ 
            position: absolute; 
            left: 0; 
            top: 0; 
            width: 2500px; /* 슬라이드할 사진과 마진 총 넓이 */ 
            transition: left 0.5s 
            ease-out; /*ease-out: 처음에는 느렸다가 점점 빨라짐*/ 
            } /* 첫 번째 슬라이드 가운데에 정렬하기위해 첫번째 슬라이드만 margin-left조정 */ 
        .slides li:first-child{ 
            margin-left: 100px; 
        } 
            /* 슬라이드들 옆으로 정렬 */ 
        .slides li:not(:last-child){ 
            float: left; 
            margin-right: 100px; 
            } 
        .slides li{ 
            float: left; 
            } 
        .controller span{ 
            position:absolute; 
            background-color: transparent; 
            color: black; 
            text-align: center; 
            border-radius: 50%; 
            padding: 10px 20px; 
            top: 50%; 
            font-size: 1.3em; 
            cursor: pointer; 
            } /* 이전, 다음 화살표에 마우스 커서가 올라가 있을때 */ 
        .controller span:hover{ 
            background-color: rgba(128, 128, 128, 0.11); 
            } 
        .prev{ 
            left: 10px; 
            } /* 이전 화살표에 마우스 커서가 올라가 있을때 이전 화살표가 살짝 왼쪽으로 이동하는 효과*/ 
        .prev:hover{ 
            transform: translateX(-10px); 
            } 
        .next{ 
            right: 10px; 
            } /* 다음 화살표에 마우스 커서가 올라가 있을때 이전 화살표가 살짝 오른쪽으로 이동하는 효과*/ 
        .next:hover{ 
            transform: translateX(10px); 
            }
    </style>
    {% endblock %}
    <!--본문 내용-->
{% block content %}

    <div id=title>
        <p>
        <h2>With_CAMPING</h2>
        </p>
    </div>

    <div class="purchase_detail_page">
        <br>

        <table border="1" cellpadding="10" cellspacing="10" class="purchase_box">
            <tr>
                <th>
                    <!-- 상품 상세 이미지 -->
                    <div id="slideShow">
                        <ul class="slides">
                            <li><img src="tent.jpg" alt="" style="width: 600px; height: 500px;"></li>
                            <li><img src="tent1.jpg" alt="" style="width: 600px; height: 500px;"></li>
                            <li><img src="tent2.jpg" alt="" style="width: 600px; height: 500px;"></li>
                            <li><img src="tent3.jpg" alt="" style="width: 600px; height: 500px;"></li>
                            <li><img src="tent4.jpg" alt="" style="width: 600px; height: 500px;"></li>
                            <!-- <li><img src="camping6.jpg" alt="" style="width: 600px; height: 500px;"></li> -->
                        </ul>
                        <p class="controller">
                            <!-- &lang: 왼쪽 방향 화살표 &rang: 오른쪽 방향 화살표 -->
                            <span class="prev">&lang;</span>
                            <span class="next">&rang;</span>
                        </p>
                    </div>
                </th>
                <th style="width: 450px;">
                    <div style="margin-top: 30px; margin-left: 30px;">
                        <h3 style="margin-top: 50px;"><strong>메이튼 레드와일드 캠핑 텐트 오두막</strong></h3>
                        <h3 style="margin-left: 270px; margin-top: 40px;"><strong>330,000원</strong></h3>
                        <div class="card_discount">
                            <img src="card.png" alt="카드" style="width: 25px; margin-left: 10px; margin-top: 5px;"> 
                            <h5 style="margin-left: 55px; margin-top: -19px;">롯데카드 간편결제 시 5% 청구할인(최대 1만원)</h5> 
                        </div>
                        <div style="border: 1px solid; margin-top: 20px; width: 390px;">
                            <p>최대 할인가</p>
                            <h5>&nbsp&nbsp&nbsp└소식알림 동의 고객 1,000원 장바구니 할인</h5>
                            <p>최대 적립 포인트</p>
                            <h5>&nbsp&nbsp&nbsp└기본적립</h5>
                        </div>
                        <br>
                        <h5>택배배송&nbsp&nbsp|&nbsp&nbsp4,500원</h5>
                        <hr style="width: 390px;">
                        <input type='button'  id="minus_btn" onclick='count("minus")' value='-' />
                        <div id='result'  id="result">0</div>
                        <input type='button' id="plus_btn"  onclick='count("plus")' value='+' />

                        <h5 style="margin-left: 220px; margin-top: 30px;">총 상품 금액&nbsp&nbsp|&nbsp&nbsp330,000원</h5>    <!--계산되게 바꾸기 -->
                        <hr style="width: 390px; margin-top: 30px;">
                        <a href="#" class="purchase_btn" role="button">구매하기</a>
                        <a href="#" class="shopping_basket" role="button">장바구니</a>
                    </div>
                    </div>
                </th>
            </tr>
        </table>
        <div style="margin-left: 200px; margin-top: 20px;">
            <img src="tent_detail1.jpg" alt="">
            <img src="tent_detail2.jpg" alt="">
            <img src="tent_detail3.jpg" alt="">
            <img src="tent_detail4.jpg" alt="">
            <img src="tent_detail5.jpg" alt="">
            <img src="tent_detail6.jpg" alt="">
            <img src="tent_detail7.jpg" alt="">
        </div>
    </div>
    <script>
        // 이미지 넘기기
        const slides = document.querySelector('.slides'); //전체 슬라이드 컨테이너 
        const slideImg = document.querySelectorAll('.slides li'); //모든 슬라이드들 
        let currentIdx = 0; //현재 슬라이드 index 
        const slideCount = slideImg.length; // 슬라이드 개수 
        const prev = document.querySelector('.prev'); //이전 버튼 
        const next = document.querySelector('.next'); //다음 버튼 
        const slideWidth = 300; //한개의 슬라이드 넓이 
        const slideMargin = 100; //슬라이드간의 margin 값 

        //전체 슬라이드 컨테이너 넓이 설정 
        slides.style.width = (slideWidth + slideMargin) * slideCount + 'px'; 
        function moveSlide(num) { 
            slides.style.left = -num * 400 + 'px'; 
            currentIdx = num; 
        } 
        prev.addEventListener('click', function () { 
            /*첫 번째 슬라이드로 표시 됐을때는 이전 버튼 눌러도 아무런 반응 없게 하기 위해 
            currentIdx !==0일때만 moveSlide 함수 불러옴 */ 
            if (currentIdx !== 0) moveSlide(currentIdx - 1); 
        }); 
        next.addEventListener('click', function () { 
            /* 마지막 슬라이드로 표시 됐을때는 
            다음 버튼 눌러도 아무런 반응 없게 하기 위해 
            currentIdx !==slideCount - 1 일때만 moveSlide 함수 불러옴 */ 
            if (currentIdx !== slideCount - 1) { 
                moveSlide(currentIdx + 1); 
            } 
        });

        // 숫자 증가
        function count(type)  {
            // 결과를 표시할 element
            const resultElement = document.getElementById('result');
    
            // 현재 화면에 표시된 값
            let number = resultElement.innerText;
    
            // 더하기/빼기
            if(type === 'plus') {
            number = parseInt(number) + 1;
            }else if(type === 'minus')  {
            number = parseInt(number) - 1;
            }
    
            // 결과 출력
            resultElement.innerText = number;
        }
    </script>

{% endblock %}